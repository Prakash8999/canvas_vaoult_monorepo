{
  "version": 3,
  "sources": ["../../../../../../src/modules/users/users.model.ts"],
  "sourcesContent": ["import { DataTypes, Model, Sequelize } from 'sequelize';\r\nimport sequelize from '../../config/database';\r\nimport { z } from 'zod';\r\nimport { extendZodWithOpenApi } from '@asteasolutions/zod-to-openapi';\r\n\r\nextendZodWithOpenApi(z);\r\n\r\n\r\n\r\n// -----------------------------\r\n// \uD83E\uDDE9 Zod Schema for User\r\n// -----------------------------\r\nexport const UserSchema = z.object({\r\n\tid: z.number().int().openapi({\r\n\t\texample: 1,\r\n\t\tdescription: 'Unique identifier for the record',\r\n\t}),\r\n\r\n\tcreated_at: z.date().optional().openapi({\r\n\t\ttype: 'string',\r\n\t\tformat: 'date-time',\r\n\t\texample: '2025-10-08T09:00:00Z',\r\n\t\tdescription: 'Timestamp when record was created',\r\n\t}),\r\n\r\n\tupdated_at: z.date().optional().openapi({\r\n\t\ttype: 'string',\r\n\t\tformat: 'date-time',\r\n\t\texample: '2025-10-08T09:00:00Z',\r\n\t\tdescription: 'Timestamp when record was last updated',\r\n\t}),\r\n\r\n\tblock: z.boolean().default(false).openapi({\r\n\t\texample: false,\r\n\t\tdescription: 'Whether the user is blocked',\r\n\t}),\r\n\r\n\tblocked_on: z.date().nullable().optional().openapi({\r\n\t\ttype: 'string',\r\n\t\tformat: 'date-time',\r\n\t\texample: null,\r\n\t\tdescription: 'Timestamp when the user was blocked',\r\n\t}),\r\n\tname: z.string().min(1).max(100).openapi({\r\n\t\texample: 'Prakash Jha',\r\n\t\tdescription: 'Full name of the user',\r\n\t}),\r\n\r\n\temail: z.email().max(100).openapi({\r\n\t\texample: 'prakash@example.com',\r\n\t\tdescription: 'Email address of the user',\r\n\t}),\r\n\r\n\tpassword: z.string().min(6).max(255).openapi({\r\n\t\texample: 'hashed_password_here',\r\n\t\tdescription: 'Hashed user password',\r\n\t}),\r\n\r\n\tcontact: z.string().max(100).nullable().optional().openapi({\r\n\t\texample: '+91-9876543210',\r\n\t\tdescription: 'Contact number of the user',\r\n\t}),\r\n\r\n\tbio: z.string().max(255).nullable().optional().openapi({\r\n\t\texample: 'Full-stack developer & open-source contributor',\r\n\t\tdescription: 'Short biography or about info',\r\n\t}),\r\n\r\n\twebsite: z.string().max(255).nullable().optional().openapi({\r\n\t\texample: 'https://prakash.dev',\r\n\t\tdescription: 'Personal or professional website URL',\r\n\t}),\r\n\r\n\tlocation: z.string().max(100).nullable().optional().openapi({\r\n\t\texample: 'Mumbai, India',\r\n\t\tdescription: 'User\u2019s location or city',\r\n\t}),\r\n\r\n\tgithub: z.string().max(100).nullable().optional().openapi({\r\n\t\texample: 'prakashjha',\r\n\t\tdescription: 'GitHub username',\r\n\t}),\r\n\r\n\ttwitter: z.string().max(100).nullable().optional().openapi({\r\n\t\texample: 'prakash_codes',\r\n\t\tdescription: 'Twitter handle or username',\r\n\t}),\r\n\r\n\tis_email_verified: z.boolean().default(false).openapi({\r\n\t\texample: false,\r\n\t\tdescription: 'Email verification status',\r\n\t}),\r\n\r\n\tprofile_url: z.string().max(255).nullable().optional().openapi({\r\n\t\texample: 'https://cdn.example.com/avatar.jpg',\r\n\t\tdescription: 'Profile picture URL of the user',\r\n\t}),\r\n\r\n\tai_credits: z.number().int().min(0).default(10).openapi({\r\n\t\texample: 10,\r\n\t\tdescription: 'Number of AI credits available for the user',\r\n\t}),\r\n}).openapi({\r\n\ttitle: 'User',\r\n\tdescription: 'Represents a registered user in the system',\r\n});\r\n\r\n// -----------------------------\r\n// \uD83E\uDDE9 Derived Zod Schemas\r\n// -----------------------------\r\nexport const CreateUserSchema = UserSchema.omit({\r\n\tid: true,\r\n\tcreated_at: true,\r\n\tupdated_at: true,\r\n\tblock: true,\r\n\tblocked_on: true,\r\n\tis_email_verified: true,\r\n}).openapi({ title: 'CreateUserInput' });\r\n\r\nexport const UpdateUserSchema = UserSchema.partial()\r\n\t.omit({ id: true, created_at: true, email: true, password: true, is_email_verified: true, block: true, blocked_on: true })\r\n\t.openapi({ title: 'UpdateUserInput' });\r\n\r\nexport const UserOtpVerifySchema = z.object({ email: z.email().max(100), otp: z.string().length(6), }).strict();\r\nexport const UserLoginSchema = z.object({ email: z.email().max(100), password: z.string().max(255), }).strict();\r\n\r\n// Password Reset Schemas\r\nexport const ForgotPasswordSchema = z.object({ email: z.email().max(100) }).strict();\r\nexport const ResetPasswordWithOtpSchema = z.object({\r\n\temail: z.email().max(100),\r\n\totp: z.string().length(6),\r\n\tnewPassword: z.string().min(8).max(255)\r\n}).strict();\r\nexport const ResetPasswordWithTokenSchema = z.object({\r\n\ttoken: z.string().min(1),\r\n\tnewPassword: z.string().min(8).max(255)\r\n}).strict();\r\n\r\n// -----------------------------\r\n// \uD83E\uDDE9 Types\r\n// -----------------------------\r\nexport type UserAttributes = z.infer<typeof UserSchema>;\r\nexport type UserCreationAttributes = z.infer<typeof CreateUserSchema>;\r\nexport type UserUpdateAttributes = z.infer<typeof UpdateUserSchema>;\r\n\r\n// -----------------------------\r\n// \uD83E\uDDE9 Sequelize Model\r\n// -----------------------------\r\nexport class User\r\n\textends Model<UserAttributes, UserCreationAttributes>\r\n\timplements UserAttributes {\r\n\tdeclare id: number;\r\n\tdeclare name: string;\r\n\tdeclare email: string;\r\n\tdeclare password: string;\r\n\tdeclare contact?: string | null;\r\n\tdeclare bio?: string | null;\r\n\tdeclare website?: string | null;\r\n\tdeclare location?: string | null;\r\n\tdeclare github?: string | null;\r\n\tdeclare twitter?: string | null;\r\n\tdeclare is_email_verified: boolean;\r\n\tdeclare profile_url?: string | null;\r\n\tdeclare block: boolean;\r\n\tdeclare blocked_on?: Date | null;\r\n\tdeclare ai_credits: number;\r\n\tdeclare created_at: Date;\r\n\tdeclare updated_at: Date;\r\n}\r\n\r\nUser.init(\r\n\t{\r\n\t\tid: {\r\n\t\t\ttype: DataTypes.INTEGER,\r\n\t\t\tautoIncrement: true,\r\n\t\t\tprimaryKey: true,\r\n\t\t\tallowNull: false,\r\n\t\t},\r\n\t\tname: {\r\n\t\t\ttype: DataTypes.STRING(100),\r\n\t\t\tallowNull: false,\r\n\t\t},\r\n\t\temail: {\r\n\t\t\ttype: DataTypes.STRING(100),\r\n\t\t\tallowNull: false,\r\n\t\t\tunique: true,\r\n\t\t\tvalidate: { isEmail: true },\r\n\t\t},\r\n\t\tpassword: {\r\n\t\t\ttype: DataTypes.STRING(255),\r\n\t\t\tallowNull: false,\r\n\t\t},\r\n\t\tcontact: {\r\n\t\t\ttype: DataTypes.STRING(100),\r\n\t\t\tallowNull: true,\r\n\t\t},\r\n\t\tbio: {\r\n\t\t\ttype: DataTypes.STRING(255),\r\n\t\t\tallowNull: true,\r\n\t\t},\r\n\t\twebsite: {\r\n\t\t\ttype: DataTypes.STRING(255),\r\n\t\t\tallowNull: true,\r\n\t\t},\r\n\t\tlocation: {\r\n\t\t\ttype: DataTypes.STRING(100),\r\n\t\t\tallowNull: true,\r\n\t\t},\r\n\t\tgithub: {\r\n\t\t\ttype: DataTypes.STRING(100),\r\n\t\t\tallowNull: true,\r\n\t\t},\r\n\t\ttwitter: {\r\n\t\t\ttype: DataTypes.STRING(100),\r\n\t\t\tallowNull: true,\r\n\t\t},\r\n\t\tis_email_verified: {\r\n\t\t\ttype: DataTypes.BOOLEAN,\r\n\t\t\tallowNull: false,\r\n\t\t\tdefaultValue: false,\r\n\t\t},\r\n\t\tprofile_url: {\r\n\t\t\ttype: DataTypes.STRING(255),\r\n\t\t\tallowNull: true,\r\n\t\t},\r\n\t\tblock: {\r\n\t\t\ttype: DataTypes.BOOLEAN,\r\n\t\t\tallowNull: false,\r\n\t\t\tdefaultValue: false,\r\n\t\t},\r\n\t\tblocked_on: {\r\n\t\t\ttype: DataTypes.DATE,\r\n\t\t\tallowNull: true,\r\n\t\t},\r\n\t\tai_credits: {\r\n\t\t\ttype: DataTypes.INTEGER,\r\n\t\t\tallowNull: false,\r\n\t\t\tdefaultValue: 10,\r\n\t\t},\r\n\t\tcreated_at: {\r\n\t\t\ttype: DataTypes.DATE,\r\n\t\t\tallowNull: false,\r\n\t\t\tdefaultValue: Sequelize.literal('CURRENT_TIMESTAMP'),\r\n\t\t},\r\n\t\tupdated_at: {\r\n\t\t\ttype: DataTypes.DATE,\r\n\t\t\tallowNull: false,\r\n\t\t\tdefaultValue: Sequelize.literal('CURRENT_TIMESTAMP'),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tsequelize,\r\n\t\ttableName: 'users',\r\n\t\tcreatedAt: 'created_at',\r\n\t\tupdatedAt: 'updated_at',\r\n\r\n\t}\r\n);\r\n\r\nexport default User;\r\n"],
  "mappings": "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",
  "names": ["sequelize"]
}
