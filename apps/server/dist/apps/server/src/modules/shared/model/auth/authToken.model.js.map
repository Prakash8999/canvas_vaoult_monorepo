{
  "version": 3,
  "sources": ["../../../../../../../../src/modules/shared/model/auth/authToken.model.ts"],
  "sourcesContent": ["// models/authToken.model.ts\r\n\r\nimport { Model, DataTypes, Optional } from \"sequelize\";\r\nimport sequelize from \"../../../../config/database\";\r\n\r\n// ======================\r\n// TYPES\r\n// ======================\r\n\r\nexport interface AuthTokenAttributes {\r\n    id: number;\r\n    user_id: number;\r\n    token_hash: string;\r\n    ip_address: string | null;\r\n    user_agent: string | null;\r\n    revoked: boolean;\r\n    replaced_by_token_id: number | null;\r\n    expires_at: Date;\r\n    created_at: Date;\r\n    updated_at: Date;\r\n}\r\n\r\nexport interface AuthTokenCreationAttributes\r\n    extends Optional<\r\n        AuthTokenAttributes,\r\n        | \"id\"\r\n        | \"token_hash\"\r\n        | \"ip_address\"\r\n        | \"user_agent\"\r\n        | \"revoked\"\r\n        | \"replaced_by_token_id\"\r\n        | \"created_at\"\r\n        | \"updated_at\"\r\n    > { }\r\n\r\n// ======================\r\n// MODEL\r\n// ======================\r\n\r\nexport class AuthToken\r\n    extends Model<AuthTokenAttributes, AuthTokenCreationAttributes>\r\n    implements AuthTokenAttributes {\r\n    public id!: number;\r\n    public user_id!: number;\r\n    public token_hash!: string;\r\n    public ip_address!: string | null;\r\n    public user_agent!: string | null;\r\n    public revoked!: boolean;\r\n    public replaced_by_token_id!: number | null;\r\n    public expires_at!: Date;\r\n    public created_at!: Date;\r\n    public updated_at!: Date;\r\n}\r\n\r\n// ======================\r\n// INIT (best practice)\r\n// ======================\r\n\r\nAuthToken.init(\r\n    {\r\n        id: {\r\n            type: DataTypes.INTEGER.UNSIGNED,\r\n            autoIncrement: true,\r\n            primaryKey: true,\r\n        },\r\n        user_id: {\r\n            type: DataTypes.INTEGER.UNSIGNED,\r\n            allowNull: false,\r\n        },\r\n        token_hash: {\r\n            type: DataTypes.STRING(255),\r\n            allowNull: false,\r\n        },\r\n        ip_address: {\r\n            type: DataTypes.STRING(64),\r\n            allowNull: true,\r\n        },\r\n        user_agent: {\r\n            type: DataTypes.STRING(512),\r\n            allowNull: true,\r\n        },\r\n        revoked: {\r\n            type: DataTypes.BOOLEAN,\r\n            allowNull: false,\r\n            defaultValue: false,\r\n        },\r\n        replaced_by_token_id: {\r\n            type: DataTypes.INTEGER.UNSIGNED,\r\n            allowNull: true,\r\n        },\r\n        expires_at: {\r\n            type: DataTypes.DATE,\r\n            allowNull: false,\r\n        },\r\n        created_at: {\r\n            type: DataTypes.DATE,\r\n            allowNull: false,\r\n            defaultValue: DataTypes.NOW,\r\n        },\r\n        updated_at: {\r\n            type: DataTypes.DATE,\r\n            allowNull: false,\r\n            defaultValue: DataTypes.NOW,\r\n        },\r\n    },\r\n    {\r\n        sequelize,\r\n        tableName: \"auth_tokens\",\r\n        timestamps: false,\r\n        underscored: true,\r\n    }\r\n);\r\n\r\nexport default AuthToken;\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,uBAA2C;AAC3C,sBAAsB;AAoCf,MAAM,kBACD,uBACuB;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACX;AAMA,UAAU;AAAA,EACN;AAAA,IACI,IAAI;AAAA,MACA,MAAM,2BAAU,QAAQ;AAAA,MACxB,eAAe;AAAA,MACf,YAAY;AAAA,IAChB;AAAA,IACA,SAAS;AAAA,MACL,MAAM,2BAAU,QAAQ;AAAA,MACxB,WAAW;AAAA,IACf;AAAA,IACA,YAAY;AAAA,MACR,MAAM,2BAAU,OAAO,GAAG;AAAA,MAC1B,WAAW;AAAA,IACf;AAAA,IACA,YAAY;AAAA,MACR,MAAM,2BAAU,OAAO,EAAE;AAAA,MACzB,WAAW;AAAA,IACf;AAAA,IACA,YAAY;AAAA,MACR,MAAM,2BAAU,OAAO,GAAG;AAAA,MAC1B,WAAW;AAAA,IACf;AAAA,IACA,SAAS;AAAA,MACL,MAAM,2BAAU;AAAA,MAChB,WAAW;AAAA,MACX,cAAc;AAAA,IAClB;AAAA,IACA,sBAAsB;AAAA,MAClB,MAAM,2BAAU,QAAQ;AAAA,MACxB,WAAW;AAAA,IACf;AAAA,IACA,YAAY;AAAA,MACR,MAAM,2BAAU;AAAA,MAChB,WAAW;AAAA,IACf;AAAA,IACA,YAAY;AAAA,MACR,MAAM,2BAAU;AAAA,MAChB,WAAW;AAAA,MACX,cAAc,2BAAU;AAAA,IAC5B;AAAA,IACA,YAAY;AAAA,MACR,MAAM,2BAAU;AAAA,MAChB,WAAW;AAAA,MACX,cAAc,2BAAU;AAAA,IAC5B;AAAA,EACJ;AAAA,EACA;AAAA,IACI,2BAAAA;AAAA,IACA,WAAW;AAAA,IACX,YAAY;AAAA,IACZ,aAAa;AAAA,EACjB;AACJ;AAEA,IAAO,0BAAQ;",
  "names": ["sequelize"]
}
