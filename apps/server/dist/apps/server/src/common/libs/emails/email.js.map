{
  "version": 3,
  "sources": ["../../../../../../../src/common/libs/emails/email.ts"],
  "sourcesContent": ["\r\nimport nodemailer from 'nodemailer';\r\n\r\n\r\nif (!process.env.NODEMAILER_EMAIL_FROM || !process.env.NODEMAILER_EMAIL_PASSWORD) {\r\n\tthrow new Error(\"Nodemailer email configuration is not set\");\r\n}\r\n\r\n\r\nconst transporter = nodemailer.createTransport({\r\n\thost: 'smtp.gmail.com',\r\n\tport: 465,\r\n\tsecure: true,\r\n\tauth: {\r\n\t\tuser: process.env.NODEMAILER_EMAIL_FROM,\r\n\t\tpass: process.env.NODEMAILER_EMAIL_PASSWORD\r\n\t}\r\n});\r\n\r\n\r\nexport const sendMail = async (email: string, subject: string, html: string) => {\r\n\r\n\r\n\tconst mailOptions = {\r\n\t\tfrom: \"CanvasVault<\" + process.env.NODEMAILER_EMAIL_FROM + \">\",\r\n\t\tto: email,\r\n\t\tsubject: subject,\r\n\t\thtml: html\r\n\t}\r\n\r\n\ttry {\r\n\t\tawait transporter.sendMail(mailOptions);\r\n\t\treturn {\r\n\t\t\terror: false,\r\n\t\t\tmessage: \"Mail sent successfully\",\r\n\t\t\tstatusCode: 200\r\n\t\t}\r\n\t} catch (error: any) {\r\n\t\treturn {\r\n\t\t\terror: true,\r\n\t\t\tmessage: error.message,\r\n\t\t\tstatusCode: 500\r\n\t\t}\r\n\t}\r\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,wBAAuB;AAGvB,IAAI,CAAC,QAAQ,IAAI,yBAAyB,CAAC,QAAQ,IAAI,2BAA2B;AACjF,QAAM,IAAI,MAAM,2CAA2C;AAC5D;AAGA,MAAM,cAAc,kBAAAA,QAAW,gBAAgB;AAAA,EAC9C,MAAM;AAAA,EACN,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,MAAM;AAAA,IACL,MAAM,QAAQ,IAAI;AAAA,IAClB,MAAM,QAAQ,IAAI;AAAA,EACnB;AACD,CAAC;AAGM,MAAM,WAAW,OAAO,OAAe,SAAiB,SAAiB;AAG/E,QAAM,cAAc;AAAA,IACnB,MAAM,iBAAiB,QAAQ,IAAI,wBAAwB;AAAA,IAC3D,IAAI;AAAA,IACJ;AAAA,IACA;AAAA,EACD;AAEA,MAAI;AACH,UAAM,YAAY,SAAS,WAAW;AACtC,WAAO;AAAA,MACN,OAAO;AAAA,MACP,SAAS;AAAA,MACT,YAAY;AAAA,IACb;AAAA,EACD,SAAS,OAAY;AACpB,WAAO;AAAA,MACN,OAAO;AAAA,MACP,SAAS,MAAM;AAAA,MACf,YAAY;AAAA,IACb;AAAA,EACD;AACD;",
  "names": ["nodemailer"]
}
